# ED Scrapers Command Line Interface

The `eds` cli is generated by running `make install` or `python setup.py install` from within the roor directory of the cloned repo

## Usage

```
$ eds --help
Usage: eds [OPTIONS] COMMAND [ARGS]...

Options:
  --help  Show this message and exit.

Commands:
  dash       Runs an inbuilt web server to display a useful HTML dashboard containing summary statistics, RAG analyses etc gotten from the scraping output. The dash server is based on the 'plotly dash' project.

  scrape     Run a Scrapy pipeline for crawling / parsing / dumping output

  stats      Run a statistics algorhitm EXCLUSIVELY for the data extracted by the scraping kit to provide some form of performance indicator(s) for the scraping exercise

  transform  Run a transformer on a scraper output to generate data in a format defined by the transformer
```


## Command help

### Scrape

```
$ eds scrape --help
Usage: eds scrape [OPTIONS] NAME

  Run a Scrapy pipeline for crawling / parsing / dumping output

  NAME: name of the defined crawlers (see crawler source code for examples) 

Options:
  --cache / --no-cache    Do not use Scrapy cache (i.e. "live" scrape)
  --resume / --no-resume  Resume a previously interrupted scrape
  -v, --verbose           Show INFO and DEBUG messages.
  -q, --quiet             Do not show anything.

  -h, --help              Show this message and exit.
```

### Transform

```
$ eds transform --help
Usage: eds transform [OPTIONS] TRANSFORMER

  Run a transformer on a scraper output to generate data in a format useful
  for other applications

  TRANSFORMER: name of the transformer to be run. Names of transformers are defined as direct subpackage(s) of the 'edscrapers.transformers' package

Options:
  -i, --input PATH   Input file, if used by requested transformer (e.g.
                     datajson transformer can use a deduplicate transformer output file) If a
                     directory will be provided instead, it will be traversed
                     recursivelly to obtain the list of files.

  -n, --name TEXT    If specified, the transformer will only act on the
                     mentioned output (i.e. a scraper's name)

  -v, --verbose      Show INFO and DEBUG messages.
  -q, --quiet        Do not show anything.

  -h, --help         Show this message and exit.
```

### Stats

```
$ eds stats --help  
Usage: eds stats [OPTIONS]

  Run a statistics algorhitm on the data extracted to provide more insights
  about the output.

Options:
  -n, --name TEXT    Optionally, run the stats just for a specific output
                     pipeline, identified by name (e.g. nces)

  -v, --verbose      Show INFO and DEBUG messages.
  -q, --quiet        Do not show anything.

  -h, --help         Show this message and exit.
```

### Dash

```
$ eds dash --help 
Usage: eds dash [OPTIONS]

  Run the inbuilt webserver (plotly dash server) for displaying HTML statistics.

Options:
  -d                  Run the server in a detached process
  --debug             Flag for turning debug mode on
  -p, --port INTEGER  Change the server port (default is 8050)
  -h, --host TEXT     Change the server host (default is 0.0.0.0)
  -v, --verbose       Show INFO and DEBUG messages.
  -q, --quiet         Do not show anything.

  --help              Show this message and exit.
```
